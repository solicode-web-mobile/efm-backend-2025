

# ğŸ§ª **ContrÃ´le Laravel â€“ Jour 1 : DÃ©veloppement dâ€™un module dynamique**

## ğŸ§© **Contexte gÃ©nÃ©ral**

Tu es chargÃ© de dÃ©velopper un **module Laravel autonome** nommÃ© `PkgWidget`, placÃ© dans le rÃ©pertoire `modules/`, selon une architecture modulaire personnalisÃ©e.

Ce module doit permettre de :
- GÃ©rer des **widgets dynamiques** dans un tableau de bord
- Associer chaque widget Ã  une **mÃ©thode mÃ©tier** contenue dans une classe Service
- ExÃ©cuter dynamiquement ces mÃ©thodes et afficher leur rÃ©sultat sous forme de widget (valeur ou liste)

Ton dÃ©veloppement devra respecter les **standards Laravel** et suivre lâ€™organisation suivante :

### ğŸ“¦ Structure attendue du module :
```
modules/
â””â”€â”€ PkgWidget/
    â”œâ”€â”€ Controllers/
    â”œâ”€â”€ Models/
    â”œâ”€â”€ Views/
    â”œâ”€â”€ App/
    â”‚   â”œâ”€â”€ Services/
    â”‚   â””â”€â”€ Requests/
    â””â”€â”€ lang/
```

Le module devra Ãªtre **dÃ©clarÃ© via un Service Provider personnalisÃ©**.

---

## â—ï¸**Condition dâ€™accÃ¨s Ã  la suite du contrÃ´le**

ğŸ”’ La **Question 1** (Prototype) est **Ã©liminatoire** :

- Si tu obtiens **au moins 4/5**, tu pourras passer aux Dossiers 2 et 3. La note finale sera sur **40 points**.
- Si tu obtiens **moins de 4/5**, tu devras **changer de sujet** pour un nouveau contrÃ´le.  
  - La note obtenue Ã  la question 1 est conservÃ©e (sur 5)
  - Les autres parties seront **notÃ©es sur 35 points** avec un nouveau thÃ¨me.

ğŸ“Œ Les Dossiers 2 et 3 sont rÃ©alisÃ©s **en live coding**, en prÃ©sence dâ€™un formateur Ã©valuateur.

---

# ğŸ“ **Dossier 1 â€“ Prototype fonctionnel (modulaire)**

ğŸ“– *Documentation autorisÃ©e*  
### ğŸ§® Note maximale : 5 points  
### â±ï¸ DurÃ©e : 45 minutes

### ğŸ¯ Objectif :
CrÃ©er un prototype simple dans le module `PkgWidget`, dÃ©montrant ta capacitÃ© Ã  **exÃ©cuter dynamiquement une mÃ©thode** dâ€™une classe Service, Ã  partir dâ€™une saisie utilisateur.

### ğŸ”¹ Questions Ã  traiter :

#### Q1.1 â€“ CrÃ©er une classe `WidgetService` dans `App/Services/` contenant deux mÃ©thodes publiques :  
- `getNombreApprenant()` â†’ retourne un tableau ou un objet avec un titre et une valeur  
- `getApprenantsActifs()` â†’ retourne un titre, une liste de 5 apprenants et le nombre total  
**(0,5 pt)**

#### Q1.2 â€“ CrÃ©er une page de test dans `Views/`, contenant un formulaire avec un champ `method_name` (nom de la mÃ©thode Ã  exÃ©cuter)  
**(0,5 pt)**

#### Q1.3 â€“ Appeler dynamiquement la mÃ©thode via `call_user_func` dans un contrÃ´leur du module, et afficher le rÃ©sultat  
**(1,5 pt)**

#### Q1.4 â€“ GÃ©rer les erreurs avec un bloc `try/catch`, et afficher un message si la mÃ©thode nâ€™existe pas  
**(1 pt)**

#### Q1.5 â€“ Afficher les widgets de maniÃ¨re claire selon leur type (valeur ou liste)  
**(1,5 pt)**

---

# ğŸ“ **Dossier 2 â€“ CRUD One Page**
### ğŸ§® Note maximale : 15 points  
### â±ï¸ DurÃ©e : 1 heure

### ğŸ¯ Objectif :
Poursuivre le travail entamÃ© dans le Dossier 1 (branche `Dossier-2`) en implÃ©mentant un **CRUD One Page** pour gÃ©rer les widgets dans le module `PkgWidget`.

### ğŸ”¹ Questions Ã  traiter :

#### Q2.1 â€“ CrÃ©er le modÃ¨le `Widget` dans `Models/` avec migration adaptÃ©e (`name`, `method`, `type`, etc.)  
**(2 pts)**

#### Q2.2 â€“ ImplÃ©menter les actions CRUD dans un contrÃ´leur du module (`Controllers/`)  
**(5 pts)**

#### Q2.3 â€“ Utiliser des **modals** pour les formulaires de crÃ©ation, Ã©dition et suppression, sans rechargement de page  
**(4 pts)**

#### Q2.4 â€“ CrÃ©er une classe `WidgetRequest` dans `App/Requests/` pour valider les donnÃ©es :
- Le champ `method` est requis
- Le champ `type` doit Ãªtre Ã©gal Ã  `"number"` ou `"list"`  
**(2 pts)**

#### Q2.5 â€“ Traduire les labels (`name`, `method`, `type`) et les messages dâ€™erreur dans les fichiers `lang/en/widget.php` et `lang/fr/widget.php`  
**(2 pts)**

---

# ğŸ“ **Dossier 3 â€“ Tableau de bord dynamique**
### ğŸ§® Note maximale : 20 points  
### â±ï¸ DurÃ©e : 1h30

### ğŸ¯ Objectif :
Afficher dynamiquement les widgets dans un tableau de bord, en appelant les **mÃ©thodes mÃ©tiers de la classe `WidgetService`**.

### ğŸ”¹ Questions Ã  traiter :

#### Q3.1 â€“ Ajouter une mÃ©thode mÃ©tier supplÃ©mentaire dans `WidgetService` :  
- `getNombreApprenantsParNomFamille()` â†’ retourne un titre + une liste contenant le nombre dâ€™apprenants pour chaque nom de famille  
**(2 pts)**

#### Q3.2 â€“ Lors de la crÃ©ation dâ€™un widget, permettre Ã  lâ€™utilisateur de saisir :  
- Le nom de la mÃ©thode  
- Le type de widget (`number` ou `list`)  
**(3 pts)**

#### Q3.3 â€“ Dans le tableau de bord, exÃ©cuter dynamiquement la mÃ©thode associÃ©e Ã  chaque widget  
**(4 pts)**

#### Q3.4 â€“ Afficher correctement les rÃ©sultats :  
- Les widgets de type `number` dans une **card**  
- Les widgets de type `list` dans une **liste stylisÃ©e ou un tableau HTML**  
**(5 pts)**

#### Q3.5 â€“ GÃ©rer proprement les erreurs dâ€™exÃ©cution (ex. mÃ©thode inexistante) sans casser lâ€™affichage  
**(3 pts)**

#### Q3.6 â€“ Ã‰valuer la qualitÃ© du code :
- Bonne sÃ©paration des responsabilitÃ©s (contrÃ´leur / service / vue)
- Nommage clair et structurÃ© des classes, mÃ©thodes et variables
- PrÃ©sence Ã©ventuelle de commentaires utiles  
**(3 pts)**

---

## âœ… **RÃ©sumÃ© des barÃ¨mes**

| Dossier        | Description                                   | Note |
|----------------|-----------------------------------------------|------|
| Dossier 1      | Prototype fonctionnel (condition dâ€™accÃ¨s)     | /5   |
| Dossier 2      | CRUD One Page dans le module                  | /15  |
| Dossier 3      | Tableau de bord dynamique (Service + Vue)     | /20  |
| **Total**      |                                               | **/40** |

